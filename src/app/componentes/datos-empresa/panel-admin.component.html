<div class="dashboard-container">
  
  <!-- Header Section -->
  <div class="dashboard-header">
    <div class="header-content">
      <div class="header-left">
        <div class="welcome-section">
          <h1 class="dashboard-title">Panel de Administración </h1>
          <p class="dashboard-subtitle">Sistema de Cotizaciones - CBES</p>
<!--           <div class="user-status-card">
            <div class="status-indicator"></div>
            <div class="user-info">
              <span class="user-label">Bienvenido</span>
              <span class="user-name">{{ userName }}</span>
            </div>
          </div> -->
        </div>
      </div>
      <div class="header-actions">
        <button 
          pButton 
          type="button" 
          icon="pi pi-refresh" 
          label="Actualizar" 
          class="p-button-outlined refresh-btn"
          (click)="cargarDatos()" 
          [disabled]="cargando"
          [loading]="cargando">
        </button>
      </div>
    </div>
  </div>

  <!-- Main Content Grid - 3 Columns -->
  <div class="unified-content-section">
    <div class="three-column-grid">
      
      <!-- Column 1: Gestor Planillas -->
      <div class="quick-access-card" (click)="navigateTo('/cotizaciones/historial-aportes')">
        <div class="watermark-logo planillas-watermark">
          <i class="pi pi-file-edit"></i>
        </div>
        <div class="quick-access-icon planillas">
          <i class="pi pi-file-edit"></i>
        </div>
        <div class="quick-access-content">
          <h3 class="quick-access-title">Planillas de Aportes</h3>
          <p class="quick-access-description">Administra y gestiona las planillas de aportes</p>
          <div class="quick-access-stats">
            <div class="stat-item">
              <i class="pi pi-check-circle"></i>
              <span>{{ resumen.planillasDeclaradas }} Declaradas</span>
            </div>
            <div class="stat-item">
              <i class="pi pi-clock"></i>
              <span>{{ resumen.planillasPendientesRevision }} Pendientes</span>
            </div>
          </div>
        </div>
        <div class="quick-access-arrow">
          <i class="pi pi-arrow-right"></i>
        </div>
      </div>

      <!-- Column 2: Historial Reembolsos -->
      <div class="quick-access-card" (click)="navigateTo('/cotizaciones/historial-reembolsos')">
        <div class="watermark-logo reembolsos-watermark">
          <i class="pi pi-wallet"></i>
        </div>
        <div class="quick-access-icon reembolsos">
          <i class="pi pi-wallet"></i>
        </div>
        <div class="quick-access-content">
          <h3 class="quick-access-title">Reembolsos de Incapacidades</h3>
          <p class="quick-access-description">Consulta y revisa todas las solicitudes de reembolsos</p>
          <div class="quick-access-stats">
            <div class="stat-item">
              <i class="pi pi-check-circle"></i>
              <span>{{ resumen.reembolsosSolicitados }} Solicitados</span>
            </div>
            <div class="stat-item">
              <i class="pi pi-clock"></i>
              <span>{{ resumen.reembolsosPendientesRevision }} Pendientes</span>
            </div>
          </div>
        </div>
        <div class="quick-access-arrow">
          <i class="pi pi-arrow-right"></i>
        </div>
      </div>

      <!-- Column 3: Planillas Recientes -->
      <div class="section-card">
        <div class="section-header">
          <div class="section-title-group">
            <div class="section-icon">
              <i class="pi pi-file-edit"></i>
            </div>
            <div>
              <h3 class="section-title">Planillas de Aportes Recientes</h3>
              <p class="section-description">Últimas {{ ultimasPlanillas.length }} planillas</p>
            </div>
          </div>
        </div>
        <div class="list-content">
          <div class="activity-item" *ngFor="let planilla of ultimasPlanillas; let i = index">
            <div class="activity-indicator"></div>
            <div class="activity-details">
              <p class="activity-title">{{ planilla.empresa }}</p>
              <div class="activity-meta">
                <span class="badge-primary">{{ planilla.tipoPlanilla }}</span>
                <span class="meta-code">
                  <i class="pi pi-building"></i>
                  {{ planilla.codPatronal }}
                </span>
                <span class="meta-date">
                  <i class="pi pi-calendar"></i>
                  {{ planilla.fechaCreacion | date:'dd/MM/yyyy' }}
                </span>
              </div>
            </div>
            <div class="activity-action">
              <button 
                pButton 
                type="button" 
                icon="pi pi-arrow-right"
                class="p-button-text p-button-rounded action-btn" 
                pTooltip="Ver detalles"
                tooltipPosition="left"
                (click)="verPlanilla(planilla)">
              </button>
            </div>
          </div>
          <div *ngIf="!ultimasPlanillas.length" class="empty-state">
            <i class="pi pi-inbox"></i>
            <p>No hay planillas recientes</p>
          </div>
        </div>
      </div>

    </div>
  </div>

</div>

